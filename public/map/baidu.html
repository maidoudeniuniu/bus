<!--
 * @Descripttion: 
 * @version: 
 * @Author: 曾利锋[阿牛]
 * @Date: 2022-06-08 17:43:06
 * @LastEditors: 曾利锋[阿牛]
 * @LastEditTime: 2022-06-14 15:53:22
-->
<!--
 * @Descripttion: 
 * @version: 
 * @Author: 曾利锋[阿牛]
 * @Date: 2022-06-07 16:15:25
 * @LastEditors: 曾利锋[阿牛]
 * @LastEditTime: 2022-06-08 17:22:15
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script type="text/javascript">
    window._AMapSecurityConfig = {
      serviceHost: 'http://10.10.71.111:9005/_AMapService',
      securityJsCode: "d6c0697f5c1aa208450b2a2886c884f2"
      // 例如 ：serviceHost:'http://1.1.1.1:80/_AMapService',
    }
  </script>
<script type="text/javascript" src="//api.map.baidu.com/api?type=webgl&v=1.0&ak=8V5T9WXlsVsoHPe6DKzYbVkIRGFlZnKy"></script>
<script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/axios/0.21.1/axios.min.js"></script>
<script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/fetch-jsonp/1.2.1/fetch-jsonp.min.js"></script>


</head>

<body>
  <div id="map" style="width:100vw;height:100vh"></div> 
  <script src="./baidu.js"></script> 
  <script type="text/javascript">
   let site = [{"id":"BV10950275","name":"乐清动车站","lng":120.85897,"lat":28.083382},{"id":"BV11111726","name":"坭岙","lng":120.856522,"lat":28.080969},{"id":"BV11111732","name":"白石交警中队","lng":120.860428,"lat":28.081215},{"id":"BV11111729","name":"合湖","lng":120.864975,"lat":28.081593},{"id":"BV11113911","name":"戴西","lng":120.867119,"lat":28.080534},{"id":"BV11113909","name":"戴东","lng":120.869698,"lat":28.079136},{"id":"BV11195320","name":"沙湖社区","lng":120.872498,"lat":28.077513},{"id":"BV11113412","name":"前州","lng":120.87278,"lat":28.07299},{"id":"BV11277474","name":"店后二站","lng":120.873039,"lat":28.068043},{"id":"BV11195321","name":"店后","lng":120.872803,"lat":28.065924},{"id":"BV11195319","name":"上五宅北","lng":120.873863,"lat":28.06188},{"id":"BV11113910","name":"上五宅","lng":120.875671,"lat":28.059557},{"id":"BV11311082","name":"湖东(柳白路)","lng":120.877068,"lat":28.057276},{"id":"BV11195318","name":"蟾东二站","lng":120.875717,"lat":28.050152},{"id":"BV11195331","name":"蟾东一站","lng":120.875565,"lat":28.047543},{"id":"BV11028975","name":"仙垟","lng":120.880295,"lat":28.045969},{"id":"BV11035169","name":"智广","lng":120.883759,"lat":28.047453},{"id":"BV10725900","name":"吕庄","lng":120.887512,"lat":28.047974},{"id":"BV11113914","name":"扬帆","lng":120.891075,"lat":28.047796},{"id":"BV10701291","name":"翔金垟","lng":120.89418,"lat":28.047617},{"id":"BV11003203","name":"正泰大厦","lng":120.89785,"lat":28.048756},{"id":"BV11048185","name":"后西垟","lng":120.89859,"lat":28.052832},{"id":"BV11232829","name":"柳市实验中学","lng":120.898827,"lat":28.057652},{"id":"BV11172827","name":"东风家园","lng":120.90287,"lat":28.058475},{"id":"BV11541871","name":"垟心","lng":120.903992,"lat":28.057682},{"id":"BV10725697","name":"后垟","lng":120.904282,"lat":28.055092},{"id":"BV11172829","name":"国家电网","lng":120.902702,"lat":28.05357},{"id":"BV11050128","name":"柳市邮局","lng":120.901932,"lat":28.051754},{"id":"BV11311079","name":"柳市客运站","lng":120.900339,"lat":28.048051}]
   let sitePath = [[[120.85897,28.083382],[120.85901,28.083413]],[[120.85901,28.083413],[120.859029,28.083389]],[[120.859029,28.083389],[120.859108,28.083239]],[[120.859108,28.083239],[120.859192,28.083101]],[[120.859192,28.083101],[120.857864,28.082605]],[[120.857864,28.082605],[120.856071,28.081909]],[[120.856071,28.081909],[120.856026,28.081835]],[[120.856026,28.081835],[120.856483,28.081055]],[[120.856483,28.081055],[120.856499,28.081011]],[[120.856499,28.081011],[120.856522,28.080969]],[[120.856522,28.080969],[120.857056,28.08004]],[[120.857056,28.08004],[120.857239,28.080023]],[[120.857239,28.080023],[120.857399,28.080069]],[[120.857399,28.080069],[120.858055,28.080313]],[[120.858055,28.080313],[120.860008,28.081055]],[[120.860008,28.081055],[120.860146,28.081106]],[[120.860146,28.081106],[120.860428,28.081215]],[[120.860428,28.081215],[120.860748,28.081337]],[[120.860748,28.081337],[120.860802,28.081358]],[[120.860802,28.081358],[120.861366,28.081558]],[[120.861366,28.081558],[120.86174,28.081663]],[[120.86174,28.081663],[120.86245,28.081808]],[[120.86245,28.081808],[120.863144,28.081858]],[[120.863144,28.081858],[120.86338,28.081854]],[[120.86338,28.081854],[120.863731,28.081799]],[[120.863731,28.081799],[120.863823,28.081726]],[[120.863823,28.081726],[120.863892,28.081707]],[[120.863892,28.081707],[120.864006,28.08172]],[[120.864006,28.08172],[120.864052,28.081726]],[[120.864052,28.081726],[120.864334,28.081739]],[[120.864334,28.081739],[120.864624,28.08172]],[[120.864624,28.08172],[120.864975,28.081593]],[[120.864975,28.081593],[120.865128,28.081539]],[[120.865128,28.081539],[120.865479,28.081408]],[[120.865479,28.081408],[120.866066,28.081106]],[[120.866066,28.081106],[120.866158,28.081055]],[[120.866158,28.081055],[120.866875,28.080673]],[[120.866875,28.080673],[120.867119,28.080534]],[[120.867119,28.080534],[120.867325,28.080421]],[[120.867325,28.080421],[120.868073,28.080023]],[[120.868073,28.080023],[120.868256,28.079927]],[[120.868256,28.079927],[120.869118,28.079453]],[[120.869118,28.079453],[120.869476,28.079262]],[[120.869476,28.079262],[120.869698,28.079136]],[[120.869698,28.079136],[120.869934,28.079012]],[[120.869934,28.079012],[120.870125,28.078911]],[[120.870125,28.078911],[120.870735,28.078571]],[[120.870735,28.078571],[120.87114,28.078365]],[[120.87114,28.078365],[120.871437,28.078201]],[[120.871437,28.078201],[120.871582,28.078125]],[[120.871582,28.078125],[120.87178,28.078016]],[[120.87178,28.078016],[120.872299,28.077728]],[[120.872299,28.077728],[120.872444,28.077564]],[[120.872444,28.077564],[120.872498,28.077513]],[[120.872498,28.077513],[120.872536,28.077469]],[[120.872536,28.077469],[120.872658,28.077318]],[[120.872658,28.077318],[120.872757,28.077173]],[[120.872757,28.077173],[120.872826,28.077017]],[[120.872826,28.077017],[120.872932,28.076727]],[[120.872932,28.076727],[120.872986,28.076176]],[[120.872986,28.076176],[120.87281,28.074375]],[[120.87281,28.074375],[120.872757,28.073984]],[[120.872757,28.073984],[120.872734,28.073811]],[[120.872734,28.073811],[120.872749,28.073442]],[[120.872749,28.073442],[120.872757,28.073229]],[[120.872757,28.073229],[120.87278,28.07299]],[[120.87278,28.07299],[120.87278,28.072987]],[[120.87278,28.072987],[120.872856,28.072268]],[[120.872856,28.072268],[120.872925,28.071762]],[[120.872925,28.071762],[120.872963,28.071384]],[[120.872963,28.071384],[120.8731,28.070065]],[[120.8731,28.070065],[120.873161,28.069494]],[[120.873161,28.069494],[120.873177,28.069248]],[[120.873177,28.069248],[120.873146,28.068916]],[[120.873146,28.068916],[120.873055,28.068195]],[[120.873055,28.068195],[120.873039,28.068043]],[[120.873039,28.068043],[120.873039,28.068037]],[[120.873039,28.068037],[120.873032,28.067886]],[[120.873032,28.067886],[120.87294,28.06708]],[[120.87294,28.06708],[120.872803,28.065924]],[[120.872803,28.065924],[120.872803,28.06592]],[[120.872803,28.06592],[120.87278,28.065765]],[[120.87278,28.065765],[120.872711,28.065228]],[[120.872711,28.065228],[120.872696,28.065073]],[[120.872696,28.065073],[120.872673,28.064899]],[[120.872673,28.064899],[120.87265,28.064671]],[[120.87265,28.064671],[120.872635,28.064396]],[[120.872635,28.064396],[120.87265,28.064167]],[[120.87265,28.064167],[120.872673,28.063984]],[[120.872673,28.063984],[120.872765,28.063698]],[[120.872765,28.063698],[120.872856,28.063475]],[[120.872856,28.063475],[120.87294,28.063307]],[[120.87294,28.063307],[120.873146,28.062996]],[[120.873146,28.062996],[120.873505,28.062449]],[[120.873505,28.062449],[120.873863,28.06188]],[[120.873863,28.06188],[120.87397,28.06172]],[[120.87397,28.06172],[120.874237,28.061333]],[[120.874237,28.061333],[120.874489,28.060989]],[[120.874489,28.060989],[120.874855,28.06053]],[[120.874855,28.06053],[120.875671,28.059557]],[[120.875671,28.059557],[120.875847,28.059345]],[[120.875847,28.059345],[120.876068,28.05908]],[[120.876068,28.05908],[120.876419,28.058666]],[[120.876419,28.058666],[120.876526,28.058538]],[[120.876526,28.058538],[120.876709,28.058298]],[[120.876709,28.058298],[120.876793,28.058151]],[[120.876793,28.058151],[120.876892,28.05792]],[[120.876892,28.05792],[120.876945,28.057756]],[[120.876945,28.057756],[120.877068,28.057276]],[[120.877068,28.057276],[120.877129,28.057035]],[[120.877129,28.057035],[120.877106,28.056881]],[[120.877106,28.056881],[120.877197,28.056337]],[[120.877197,28.056337],[120.877289,28.055847]],[[120.877289,28.055847],[120.877319,28.05567]],[[120.877319,28.05567],[120.877365,28.055328]],[[120.877365,28.055328],[120.87738,28.055035]],[[120.87738,28.055035],[120.87735,28.054787]],[[120.87735,28.054787],[120.877289,28.054527]],[[120.877289,28.054527],[120.877243,28.054367]],[[120.877243,28.054367],[120.876961,28.053755]],[[120.876961,28.053755],[120.876747,28.053343]],[[120.876747,28.053343],[120.876488,28.052805]],[[120.876488,28.052805],[120.876259,28.052313]],[[120.876259,28.052313],[120.876045,28.0518]],[[120.876045,28.0518],[120.875938,28.051462]],[[120.875938,28.051462],[120.875832,28.051037]],[[120.875832,28.051037],[120.875748,28.05061]],[[120.875748,28.05061],[120.875717,28.050236]],[[120.875717,28.050236],[120.875717,28.050152]],[[120.875717,28.050152],[120.875626,28.048658]],[[120.875626,28.048658],[120.875603,28.048096]],[[120.875603,28.048096],[120.87558,28.047804]],[[120.87558,28.047804],[120.875565,28.047543]],[[120.875565,28.047543],[120.875565,28.047541]],[[120.875565,28.047541],[120.875534,28.047171]],[[120.875534,28.047171],[120.875519,28.046736]],[[120.875519,28.046736],[120.875496,28.046207]],[[120.875496,28.046207],[120.875496,28.045979]],[[120.875496,28.045979],[120.875572,28.045856]],[[120.875572,28.045856],[120.875801,28.045864]],[[120.875801,28.045864],[120.876595,28.045876]],[[120.876595,28.045876],[120.87706,28.045889]],[[120.87706,28.045889],[120.877266,28.045893]],[[120.877266,28.045893],[120.878082,28.045902]],[[120.878082,28.045902],[120.878479,28.045912]],[[120.878479,28.045912],[120.878616,28.045916]],[[120.878616,28.045916],[120.878914,28.045919]],[[120.878914,28.045919],[120.880241,28.045965]],[[120.880241,28.045965],[120.880295,28.045969]],[[120.880295,28.045969],[120.880569,28.045988]],[[120.880569,28.045988],[120.880768,28.046038]],[[120.880768,28.046038],[120.881126,28.04615]],[[120.881126,28.04615],[120.881615,28.046362]],[[120.881615,28.046362],[120.882881,28.047001]],[[120.882881,28.047001],[120.883369,28.047253]],[[120.883369,28.047253],[120.883629,28.047386]],[[120.883629,28.047386],[120.883759,28.047453]],[[120.883759,28.047453],[120.883911,28.047531]],[[120.883911,28.047531],[120.884109,28.047626]],[[120.884109,28.047626],[120.884338,28.047733]],[[120.884338,28.047733],[120.884613,28.047832]],[[120.884613,28.047832],[120.885033,28.047956]],[[120.885033,28.047956],[120.885475,28.048033]],[[120.885475,28.048033],[120.885788,28.048052]],[[120.885788,28.048052],[120.886169,28.048052]],[[120.886169,28.048052],[120.886406,28.048016]],[[120.886406,28.048016],[120.88681,28.048004]],[[120.88681,28.048004],[120.8871,28.047987]],[[120.8871,28.047987],[120.887512,28.047974]],[[120.887512,28.047974],[120.887672,28.04797]],[[120.887672,28.04797],[120.888184,28.047947]],[[120.888184,28.047947],[120.888908,28.047895]],[[120.888908,28.047895],[120.889015,28.047878]],[[120.889015,28.047878],[120.889709,28.047832]],[[120.889709,28.047832],[120.890518,28.047827]],[[120.890518,28.047827],[120.890823,28.04781]],[[120.890823,28.04781],[120.89093,28.047804]],[[120.89093,28.047804],[120.891075,28.047796]],[[120.891075,28.047796],[120.891266,28.047787]],[[120.891266,28.047787],[120.891594,28.047764]],[[120.891594,28.047764],[120.891754,28.047756]],[[120.891754,28.047756],[120.893555,28.047651]],[[120.893555,28.047651],[120.89399,28.047626]],[[120.89399,28.047626],[120.89418,28.047617]],[[120.89418,28.047617],[120.894936,28.047569]],[[120.894936,28.047569],[120.895546,28.047527]],[[120.895546,28.047527],[120.896034,28.047504]],[[120.896034,28.047504],[120.896935,28.047459]],[[120.896935,28.047459],[120.897469,28.047422]],[[120.897469,28.047422],[120.897598,28.047501]],[[120.897598,28.047501],[120.89769,28.047783]],[[120.89769,28.047783],[120.897751,28.048096]],[[120.897751,28.048096],[120.89782,28.048559]],[[120.89782,28.048559],[120.89785,28.048756]],[[120.89785,28.048756],[120.897888,28.048988]],[[120.897888,28.048988],[120.898247,28.05092]],[[120.898247,28.05092],[120.898491,28.05208]],[[120.898491,28.05208],[120.89859,28.052778]],[[120.89859,28.052778],[120.89859,28.052832]],[[120.89859,28.052832],[120.898598,28.053005]],[[120.898598,28.053005],[120.89859,28.05378]],[[120.89859,28.05378],[120.898575,28.054623]],[[120.898575,28.054623],[120.898544,28.055511]],[[120.898544,28.055511],[120.898537,28.055582]],[[120.898537,28.055582],[120.898438,28.057573]],[[120.898438,28.057573],[120.898827,28.057652]],[[120.898827,28.057652],[120.899773,28.057852]],[[120.899773,28.057852],[120.900246,28.057934]],[[120.900246,28.057934],[120.900688,28.058016]],[[120.900688,28.058016],[120.902763,28.05846]],[[120.902763,28.05846],[120.90287,28.058475]],[[120.90287,28.058475],[120.902863,28.058475]],[[120.902863,28.058475],[120.903473,28.058598]],[[120.903473,28.058598],[120.903931,28.058693]],[[120.903931,28.058693],[120.903984,28.057734]],[[120.903984,28.057734],[120.903992,28.057682]],[[120.903992,28.057682],[120.903992,28.057678]],[[120.903992,28.057678],[120.90403,28.057314]],[[120.90403,28.057314],[120.904045,28.057245]],[[120.904045,28.057245],[120.90416,28.056198]],[[120.90416,28.056198],[120.904213,28.055811]],[[120.904213,28.055811],[120.904213,28.055756]],[[120.904213,28.055756],[120.904274,28.055161]],[[120.904274,28.055161],[120.904282,28.055092]],[[120.904282,28.055092],[120.90432,28.054462]],[[120.90432,28.054462],[120.903687,28.054222]],[[120.903687,28.054222],[120.90345,28.054119]],[[120.90345,28.054119],[120.903152,28.053949]],[[120.903152,28.053949],[120.902992,28.053829]],[[120.902992,28.053829],[120.902962,28.053802]],[[120.902962,28.053802],[120.902794,28.053661]],[[120.902794,28.053661],[120.902702,28.05357]],[[120.902702,28.05357],[120.902603,28.053467]],[[120.902603,28.053467],[120.902473,28.053297]],[[120.902473,28.053297],[120.902344,28.053116]],[[120.902344,28.053116],[120.90226,28.052925]],[[120.90226,28.052925],[120.902161,28.052673]],[[120.902161,28.052673],[120.9021,28.052444]],[[120.9021,28.052444],[120.902069,28.052374]],[[120.902069,28.052374],[120.901932,28.051754]],[[120.901932,28.051754],[120.901931,28.051753]],[[120.901931,28.051753],[120.901905,28.051641]],[[120.901905,28.051641],[120.90181,28.051194]],[[120.90181,28.051194],[120.901671,28.05056]],[[120.901671,28.05056],[120.901584,28.0501]],[[120.901584,28.0501],[120.901562,28.050013]],[[120.901562,28.050013],[120.90145,28.04941]],[[120.90145,28.04941],[120.901359,28.04908]],[[120.901359,28.04908],[120.901185,28.048659]],[[120.901185,28.048659],[120.901085,28.04842]],[[120.901085,28.04842],[120.900968,28.048207]],[[120.900968,28.048207],[120.900881,28.048095]],[[120.900881,28.048095],[120.900755,28.047943]],[[120.900755,28.047943],[120.900538,28.047756]],[[120.900538,28.047756],[120.900412,28.047943]],[[120.900412,28.047943],[120.900339,28.048051]]]
   let data =  new Cmap({
      el:"map",
      // mode:"xx",
      type:"BD",
      key:"46fw9n7VDbrPzBdhFy6jP87bw2qeDFpc",
      site:site,
      sitePath:sitePath,
      callback (e) {
        console.log(e)
      }
    }) 
    data.callback((e)=>{
      console.log(e)
    })

    // setTimeout(()=>{
    //   data.setSitePath(
    //     [{distance:2,duration:2},{distance:2,duration:2}]
    //   )
    // },10000)  
    // console.log("data",data)
    // setTimeout(()=>{
    //   data.lineSearch("乐清221路")
    // },10000)
  </script>
</body>

</html>